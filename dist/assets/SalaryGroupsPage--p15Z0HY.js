import{J as ee,r as P,p as Z,q as me,s as oe,c as O,y as ne,v as F,d as ae,o as d,i as h,w as t,g as a,e as s,f as l,h as e,_ as M,K as Q,L as W,m as re,l as S,b as C,j as z,F as N,n as Y,t as u,M as R,H as de,D as X,E as _e,N as fe,O as ve,P as he,u as we,I as ye,a as be}from"./index-QvUli45Q.js";import{T as o}from"./index-llUdkP6I.js";import{_ as U}from"./FormLabel.vue_vue_type_script_setup_true_lang-OXfsEUzT.js";import{_ as q}from"./FormDatepicker.vue_vue_type_script_setup_true_lang-YHs7Jiqe.js";function xe(){const{fetchCalculateSalaries:m}=ee();return{loading:P(!1),fetchData:async(b,w)=>{console.log("payload",b);const v=await m(b);console.log("fetchCalculateSalaries response",v),w(v.data)}}}function ge(){const m=Z({companyId:-1,name:"",yearMonth:"",startDate:"",endDate:"",paymentDate:"",salaries:[]}),D=me(m),p=P(!1);oe(()=>{});const b=O(()=>m.yearMonth&&m.startDate&&m.endDate&&m.paymentDate&&m.name&&m.companyId);return{payloadRefs:D,canSubmit:b,createSalaryGroup:async v=>{try{const T={...m};if(console.log("requestPayload",T),T.salaries=T.salaries.map(G=>({userId:G.user.id,salaryItems:G.salaryItems.map(E=>({name:E.title,amount:E.amount,type:String(E.type).toUpperCase()}))})),p.value=!0,(await ne.post("/salary/salary-group",T)).data.id)F().showSaveSuccess(),v();else throw Error("id not found")}catch(T){T instanceof Error&&console.log("[Debug] error",T.message),F().showSaveError()}finally{p.value=!1}},loading:p}}const ke={class:"relative mb-5 text-center text-xl"},Se={class:"mb-4 flex items-center"},Te={class:"mb-4 flex items-center"},Ce={class:"mb-4 flex items-center"},De={class:"mb-4 flex items-center"},$e={class:"mb-4 flex items-center"},Me={class:"flex justify-center"},Ne={key:0,class:"flex justify-center p-10"},Ge={class:"max-h-[70vh] overflow-x-auto overflow-y-auto"},Ve={class:"border p-5 text-right"},Ye={class:"mt-5 flex justify-center"},Ee={class:"flex flex-col gap-3 p-5 text-base"},je={class:"flex items-center justify-between"},Pe=s("span",null,"薪資年月：",-1),Ke={class:"flex items-center justify-between"},Be=s("span",null,"薪資發放名稱：",-1),Le={class:"flex items-center justify-between"},Ue=s("span",null,"計算區間：",-1),ze={class:"flex items-center justify-between"},Ie=s("span",null,"發薪人數：",-1),Re={class:"flex items-center justify-between"},Oe=s("span",null,"應發總額：",-1),Ae={class:"flex items-center justify-between"},qe=s("span",null,"應減總額：",-1),Fe={class:"flex items-center justify-between"},Xe=s("span",null,"實發總額：",-1),He={class:"mt-5 flex justify-center"},Je=ae({__name:"CreateSalaryGroupModal",props:{companyId:{}},emits:["close"],setup(m,{emit:D}){const p=D,b=m,{fetchData:w,loading:v}=xe(),{createSalaryGroup:T,payloadRefs:r,canSubmit:G,loading:E}=ge(),x=P("form"),g=Z({value:[]}),y=Z({value:[]}),i=O(()=>{const V=new Set,c=new Set,n=new Set,k=new Set;let te=0,se=0,J=0;const pe=g.value.map(({salaryItems:I,user:_})=>{let K=0,j=0,B=0;const L={};return I.forEach(f=>{switch(f.type==="PLUS"&&c.add(f.name),f.type==="MINUS"&&n.add(f.name),f.type==="NORMAL"&&V.add(f.name),f.type==="COMPANY"&&k.add(f.name),L[f.name]=Number(L[f.name]||0)+Number(f.amount),f.type){case"NORMAL":case"PLUS":K+=Number(f.amount),B+=Number(f.amount),te+=Number(f.amount),J+=Number(f.amount);break;case"MINUS":j+=Number(f.amount),B-=Number(f.amount),se+=Number(f.amount),J-=Number(f.amount);break}}),{id:_==null?void 0:_.id,name:_==null?void 0:_.name,employee_id:_==null?void 0:_.employee_id,onboard_date:_==null?void 0:_.onboard_date,resignation_date:_==null?void 0:_.resignation_date,salary_type:_==null?void 0:_.salary_type,plusSalary:K,minusSalary:j,netSalary:B,...L}}).sort((I,_)=>{for(let K=0;K<y.value.length;K++){const j=y.value[K],B=(I==null?void 0:I[j.key])??0,L=(_==null?void 0:_[j.key])??0;if(B<L)return j.order==="asc"?-1:1;if(B>L)return j.order==="asc"?1:-1}return 0});return{normalCols:V,plusCols:c,minusCols:n,companyCols:k,result:pe,totalPlusSalary:te,totalMinusSalary:se,totalNetSalary:J}}),$=O(()=>r.companyId.value&&r.yearMonth.value&&r.startDate.value&&r.endDate.value&&r.paymentDate.value),H=async()=>{const V={companyId:r.companyId.value,yearMonth:r.yearMonth.value,startDate:r.startDate.value,endDate:r.endDate.value};await w(V,c=>{g.value=c,x.value="table"})},A=V=>{x.value=V},ue=()=>{x.value="result",r.salaries.value=g.value},ce=()=>{G&&T(()=>{p("close"),ee().fetchSalaryGroups({companyId:Number(r.companyId.value),page:0})})},ie=({key:V,order:c})=>{console.log(V,c);const n=y.value.findIndex(k=>k.key===V);n!==-1?c===""?y.value.splice(n,1):y.value[n].order=c:y.value.push({key:V,order:c})};return oe(()=>{r.companyId.value=b.companyId}),(V,c)=>(d(),h(e(X),{open:!0,size:"md"},{default:t(()=>[a(e(X).Panel,{class:de(["p-4",[{"md:w-[400px]":["form","result"].includes(x.value),"max-w-[1200px] md:w-[80vw]":x.value==="table"}]])},{default:t(()=>[s("div",ke,[l(" 薪資計算 "),a(e(M),{icon:"X",class:"absolute right-0 top-0 cursor-pointer text-[#939393]",onClick:c[0]||(c[0]=()=>p("close"))})]),Q(s("section",null,[s("div",Se,[a(e(U),{class:"w-[120px]"},{default:t(()=>[l("薪資發放名稱")]),_:1}),a(e(re),{class:"flex-1",type:"text",modelValue:e(r).name.value,"onUpdate:modelValue":c[1]||(c[1]=n=>e(r).name.value=n)},null,8,["modelValue"])]),s("div",Te,[a(e(U),{class:"w-[120px]"},{default:t(()=>[l("薪資年月")]),_:1}),a(q,{class:"flex-1",modelValue:e(r).yearMonth.value,"onUpdate:modelValue":c[2]||(c[2]=n=>e(r).yearMonth.value=n),"month-picker":"","auto-apply":""},null,8,["modelValue"])]),s("div",Ce,[a(e(U),{class:"w-[120px]"},{default:t(()=>[l("起始日")]),_:1}),a(q,{class:"flex-1",modelValue:e(r).startDate.value,"onUpdate:modelValue":c[3]||(c[3]=n=>e(r).startDate.value=n),"auto-apply":""},null,8,["modelValue"])]),s("div",De,[a(e(U),{class:"w-[120px]"},{default:t(()=>[l("結束日")]),_:1}),a(q,{class:"flex-1",modelValue:e(r).endDate.value,"onUpdate:modelValue":c[4]||(c[4]=n=>e(r).endDate.value=n),"auto-apply":""},null,8,["modelValue"])]),s("div",$e,[a(e(U),{class:"w-[120px]"},{default:t(()=>[l("發薪日")]),_:1}),a(q,{class:"flex-1",modelValue:e(r).paymentDate.value,"onUpdate:modelValue":c[5]||(c[5]=n=>e(r).paymentDate.value=n),"auto-apply":""},null,8,["modelValue"])]),s("div",Me,[a(e(S),{class:"flex-1",variant:"primary",onClick:H,loading:e(v),disabled:e(v)||!$.value},{default:t(()=>[l(" 下一步 ")]),_:1},8,["loading","disabled"]),a(e(S),{class:"mr-2 flex-1",variant:"outline-primary",onClick:c[6]||(c[6]=()=>p("close"))},{default:t(()=>[l(" 關閉 ")]),_:1})])],512),[[W,x.value==="form"]]),Q(s("section",null,[g.value.length===0?(d(),C("div",Ne," 查無資料 ")):(d(),C(N,{key:1},[s("div",Ge,[a(e(o),{bordered:"",onSort:ie},{default:t(()=>[a(e(o).Thead,null,{default:t(()=>[a(e(o).Tr,null,{default:t(()=>[a(e(o).Th,{class:"whitespace-nowrap",colspan:"5"}),i.value.normalCols.size>0?(d(),h(e(o).Th,{key:0,class:"whitespace-nowrap",colspan:i.value.normalCols.size},{default:t(()=>[l(" 薪資結構 ")]),_:1},8,["colspan"])):z("",!0),i.value.plusCols.size>0?(d(),h(e(o).Th,{key:1,class:"whitespace-nowrap",colspan:i.value.plusCols.size},{default:t(()=>[l(" 薪資科目加項 ")]),_:1},8,["colspan"])):z("",!0),i.value.minusCols.size>0?(d(),h(e(o).Th,{key:2,class:"whitespace-nowrap",colspan:i.value.minusCols.size},{default:t(()=>[l(" 薪資科目減項 ")]),_:1},8,["colspan"])):z("",!0),a(e(o).Th,{class:"whitespace-nowrap",colspan:"3"}),i.value.companyCols.size>0?(d(),h(e(o).Th,{key:3,class:"whitespace-nowrap",colspan:i.value.companyCols.size},{default:t(()=>[l(" 公司負擔 ")]),_:1},8,["colspan"])):z("",!0)]),_:1}),a(e(o).Tr,null,{default:t(()=>[a(e(o).Th,{class:"whitespace-nowrap"},{default:t(()=>[l("員工編號")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap"},{default:t(()=>[l("姓名")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap"},{default:t(()=>[l("到職日")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap"},{default:t(()=>[l("離職日")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap"},{default:t(()=>[l("計薪方式")]),_:1}),(d(!0),C(N,null,Y(i.value.normalCols.values(),n=>(d(),h(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:t(()=>[l(u(n),1)]),_:2},1032,["sortableKey"]))),128)),(d(!0),C(N,null,Y(i.value.plusCols.values(),n=>(d(),h(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:t(()=>[l(u(n),1)]),_:2},1032,["sortableKey"]))),128)),(d(!0),C(N,null,Y(i.value.minusCols.values(),n=>(d(),h(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:t(()=>[l(u(n),1)]),_:2},1032,["sortableKey"]))),128)),a(e(o).Th,{class:"whitespace-nowrap",sortableKey:"plusSalary"},{default:t(()=>[l("應發金額")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap",sortableKey:"minusSalary"},{default:t(()=>[l("應減金額")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap",sortableKey:"netSalary"},{default:t(()=>[l("實發金額")]),_:1}),(d(!0),C(N,null,Y(i.value.companyCols.values(),n=>(d(),h(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:t(()=>[l(u(n),1)]),_:2},1032,["sortableKey"]))),128))]),_:1})]),_:1}),a(e(o).Tbody,null,{default:t(()=>[(d(!0),C(N,null,Y(i.value.result,n=>(d(),h(e(o).Tr,{key:`employSalary_${n.id}`},{default:t(()=>[a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.employee_id),1)]),_:2},1024),a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.name),1)]),_:2},1024),a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.onboard_date?e(R)(n.onboard_date).format("YYYY-MM-DD"):"--"),1)]),_:2},1024),a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.resignation_date?e(R)(n.resignation_date).format("YYYY-MM-DD"):"--"),1)]),_:2},1024),a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.salary_type),1)]),_:2},1024),(d(!0),C(N,null,Y(i.value.normalCols.values(),k=>(d(),h(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:t(()=>[l(u(n[k]??"--"),1)]),_:2},1024))),128)),(d(!0),C(N,null,Y(i.value.plusCols.values(),k=>(d(),h(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:t(()=>[l(u(n[k]??"--"),1)]),_:2},1024))),128)),(d(!0),C(N,null,Y(i.value.minusCols.values(),k=>(d(),h(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:t(()=>[l(u(n[k]??"--"),1)]),_:2},1024))),128)),a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.plusSalary??"--"),1)]),_:2},1024),a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.minusSalary??"--"),1)]),_:2},1024),a(e(o).Td,{class:"whitespace-nowrap"},{default:t(()=>[l(u(n.netSalary??"--"),1)]),_:2},1024),(d(!0),C(N,null,Y(i.value.companyCols.values(),k=>(d(),h(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:t(()=>[l(u(n[k]??"--"),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),s("div",Ve," Total Rows: "+u(i.value.result.length),1)],64)),s("div",Ye,[a(e(S),{variant:"outline-primary",type:"button",class:"mr-2",onClick:c[7]||(c[7]=()=>A("form"))},{default:t(()=>[l(" 上一步 ")]),_:1}),a(e(S),{variant:"primary",type:"button",disabled:g.value.length===0,onClick:ue},{default:t(()=>[l(" 計算結果 ")]),_:1},8,["disabled"])])],512),[[W,x.value==="table"]]),Q(s("section",null,[s("div",Ee,[s("div",je,[Pe,s("span",null,u(e(r).yearMonth.value),1)]),s("div",Ke,[Be,s("span",null,u(e(r).name.value),1)]),s("div",Le,[Ue,s("span",null,u(e(r).startDate.value)+" ~ "+u(e(r).endDate.value),1)]),s("div",ze,[Ie,s("span",null,u(g.value.length)+"人",1)]),s("div",Re,[Oe,s("span",null,u(i.value.totalPlusSalary.toLocaleString()),1)]),s("div",Ae,[qe,s("span",null,u(i.value.totalMinusSalary.toLocaleString()),1)]),s("div",Fe,[Xe,s("span",null,u(i.value.totalNetSalary.toLocaleString()),1)])]),s("div",He,[a(e(S),{variant:"outline-primary",type:"button",class:"flex-1 mr-2",onClick:c[8]||(c[8]=()=>A("table"))},{default:t(()=>[l(" 上一步 ")]),_:1}),a(e(S),{variant:"primary",type:"button",class:"flex-1",disabled:!e(G)||e(E),loading:e(E),onClick:ce},{default:t(()=>[l(" 確認發放 ")]),_:1},8,["disabled","loading"])])],512),[[W,x.value==="result"]])]),_:1},8,["class"])]),_:1}))}});function Qe(){const m=P(!1);return{exportSalary:async(p,b)=>{try{if(m.value=!0,await ne.post("/salary/export",{type:"salary",companyId:p.companyId,salaryGroupId:p.salaryGroupId}))F().showSaveSuccess(),b();else throw Error("Unknown Error")}catch(w){w instanceof Error&&console.log("[Debug] error",w.message),F().showError({title:"錯誤",content:"匯出失敗"})}finally{m.value=!1}},loading:m}}const We={class:"mb-4 flex items-center"},Ze=s("option",{disabled:"",selected:"",value:""},"選擇發放名稱",-1),ea=["value"],aa={class:"flex justify-center"},ta=ae({__name:"ExportSalaryModal",props:{companyId:{},salaryGroups:{}},emits:["close"],setup(m,{emit:D}){const p=D,{salaryGroups:b,companyId:w}=m,v=P(""),{exportSalary:T,loading:r}=Qe(),G=x=>{console.log("select group",x)},E=()=>{if(!v.value||!w)return;const x={companyId:w,salaryGroupId:v.value};T(x,()=>p("close"))};return(x,g)=>(d(),h(e(X),{open:!0,size:"md"},{default:t(()=>[a(e(X).Panel,{class:"p-4 md:w-[400px]"},{default:t(()=>[s("div",{class:de(["relative mb-5",["text-center text-xl"]])},[l(" 匯出薪資明細 "),a(e(M),{icon:"X",class:"absolute right-0 top-0 cursor-pointer text-[#939393]",onClick:g[0]||(g[0]=()=>p("close"))})]),s("div",We,[a(e(U),{class:"w-[120px]"},{default:t(()=>[l("薪資發放名稱")]),_:1}),a(e(_e),{modelValue:v.value,"onUpdate:modelValue":g[1]||(g[1]=y=>v.value=y),class:"flex-1",onChange:G},{default:t(()=>[Ze,(d(!0),C(N,null,Y(x.salaryGroups,y=>(d(),C("option",{key:y.id,value:y.id},u(y.name),9,ea))),128))]),_:1},8,["modelValue"])]),s("div",aa,[a(e(S),{class:"flex-1",disabled:!v.value||e(r),loading:e(r),variant:"primary",onClick:E},{default:t(()=>[l(" 匯出 ")]),_:1},8,["disabled","loading"])])]),_:1})]),_:1}))}});function le(m){const D=ee(),{fetchSalaryExtends:p,fetchSalaryGroups:b}=D,w=(r,G)=>{fe().showModal({deleteType:"salaryGroup",title:ve.global.t("delete-alert-title"),content:"確定要刪除這筆資料嗎？刪除後無法復原，需要重新新增",deleteData:{companyId:r,id:G}})},v=O(()=>D.salaryGroups),T=O(()=>D.salaryExtends);return p({companyId:m,page:1}),b({companyId:m,page:1}),{fetchSalaryExtends:p,fetchSalaryGroups:b,confirmDeleteSalaryGroup:w,salaryGroups:v,salaryExtends:T}}const sa={class:"flex justify-between"},la={class:"intro-y col-span-12 mt-2 flex flex-wrap items-center sm:flex-nowrap"},oa={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},na={class:"relative text-slate-500"},ra={class:"intro-y col-span-12 mt-2 flex flex-wrap items-center sm:flex-nowrap"},da={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ua={class:"relative text-slate-500"},ca={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ia={class:"relative text-slate-500"},pa={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ma={class:"relative text-slate-500"},_a={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},fa={class:"relative text-slate-500"},va={class:"mt-5 grid grid-cols-12 gap-6"},ha={class:"intro-y col-span-12 flex flex-wrap items-center sm:flex-nowrap"},wa={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ya={class:"relative text-slate-500"},ba={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},xa={class:"relative text-slate-500"},ga={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ka={class:"relative text-slate-500"},Sa={class:"intro-y col-span-12 overflow-auto lg:overflow-visible"},Ta={class:"font-medium"},Ca={class:"font-medium"},Da={class:"font-medium"},$a={class:"font-medium"},Ma=s("div",{class:"font-medium"},u(0),-1),Na={class:"font-medium"},Ga={class:"font-medium"},Va={class:"flex items-center justify-center"},Ka=ae({__name:"SalaryGroupsPage",setup(m){const D=he(),{companyId:p}=we(),b=P(!1),w=P(!1);ye(p,()=>{le(p.value)});const{salaryGroups:v,confirmDeleteSalaryGroup:T}=le(p.value),r=()=>{w.value=!0},G=g=>{D.push({name:"GroupSalaries",params:{groupId:g}})},E=()=>{b.value=!0},x=g=>{T(p.value,g)};return(g,y)=>{const i=be("router-link");return d(),C("div",null,[s("div",sa,[s("div",la,[s("div",oa,[s("div",na,[a(e(re),{type:"text",class:"!box w-56 pr-10",placeholder:"Search..."}),a(e(M),{icon:"Search",class:"absolute inset-y-0 right-0 my-auto mr-3 h-4 w-4"})])])]),s("div",ra,[s("div",da,[s("div",ua,[a(i,{to:"workrecord"},{default:t(()=>[a(e(S),{variant:"primary",type:"button",class:"m-3"},{default:t(()=>[a(e(M),{icon:"Plus",class:"mr-1 h-4 w-4"}),l(" 加班/兼職出勤 ")]),_:1})]),_:1})])]),s("div",ca,[s("div",ia,[a(i,{to:"salary-extend"},{default:t(()=>[a(e(S),{variant:"primary",type:"button",class:"m-3"},{default:t(()=>[a(e(M),{icon:"Plus",class:"mr-1 h-4 w-4"}),l(" 薪資科別加減項 ")]),_:1})]),_:1})])]),s("div",pa,[s("div",ma,[a(i,{to:"userleave"},{default:t(()=>[a(e(S),{variant:"primary",type:"button",class:"m-3"},{default:t(()=>[a(e(M),{icon:"Settings",class:"mr-1 h-4 w-4"}),l(" 假勤申請 ")]),_:1})]),_:1})])]),s("div",_a,[s("div",fa,[a(i,{to:"leave"},{default:t(()=>[a(e(S),{variant:"primary",type:"button",class:"m-3"},{default:t(()=>[a(e(M),{icon:"Settings",class:"mr-1 h-4 w-4"}),l(" 假勤設定 ")]),_:1})]),_:1})])])])]),s("div",va,[s("div",ha,[s("div",wa,[s("div",ya,[a(e(S),{variant:"primary",type:"button",class:"m-3",onClick:r},{default:t(()=>[a(e(M),{icon:"Plus",class:"mr-1 h-4 w-4"}),l(" 薪資計算 ")]),_:1})])]),s("div",ba,[s("div",xa,[a(e(S),{variant:"primary",type:"button",class:"m-3",onClick:E},{default:t(()=>[a(e(M),{icon:"Download",class:"mr-1 h-4 w-4"}),l(" 匯出薪資明細 ")]),_:1})])]),s("div",ga,[s("div",ka,[a(e(S),{variant:"primary",type:"button",class:"m-3",onClick:r,disabled:""},{default:t(()=>[a(e(M),{icon:"Send",class:"mr-1 h-4 w-4"}),l(" 薪資單寄送 ")]),_:1})])])]),s("div",Sa,[a(e(o),{class:"-mt-2 border-separate border-spacing-y-[10px]"},{default:t(()=>[a(e(o).Thead,null,{default:t(()=>[a(e(o).Tr,null,{default:t(()=>[a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("薪資年月")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("發放名稱")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("起始日")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("結束日")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("發放人數")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("發放日期")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("狀態")]),_:1}),a(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:t(()=>[l("動作")]),_:1})]),_:1})]),_:1}),a(e(o).Tbody,null,{default:t(()=>[(d(!0),C(N,null,Y(e(v),($,H)=>(d(),h(e(o).Tr,{key:H,class:"intro-x"},{default:t(()=>[a(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:t(()=>[s("div",Ta,u($.yearMonth),1)]),_:2},1024),a(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:t(()=>[s("div",Ca,u($.name),1)]),_:2},1024),a(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:t(()=>[s("div",Da,u(e(R)($.startDate).format("YYYY-MM-DD")),1)]),_:2},1024),a(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:t(()=>[s("div",$a,u(e(R)($.endDate).format("YYYY-MM-DD")),1)]),_:2},1024),a(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:t(()=>[Ma]),_:1}),a(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:t(()=>[s("div",Na,u(e(R)($.paymentDate).format("YYYY-MM-DD")),1)]),_:2},1024),a(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:t(()=>[s("div",Ga,u(new Date>new Date($.paymentDate)?"已發放":"未發放"),1)]),_:2},1024),a(e(o).Td,{class:"relative w-56 border-b-0 bg-white py-0 shadow-[20px_3px_20px_#0000000b] before:absolute before:inset-y-0 before:left-0 before:my-auto before:block before:h-8 before:w-px before:bg-slate-200 first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600 before:dark:bg-darkmode-400"},{default:t(()=>[s("div",Va,[a(e(S),{variant:"primary",type:"button",class:"m-3 w-24",onClick:A=>G($.id)},{default:t(()=>[a(e(M),{icon:"LibraryBig",class:"mr-1 h-4 w-4"}),l(" 薪資單 ")]),_:2},1032,["onClick"]),a(e(S),{variant:"danger",type:"button",class:"m-3 w-20",onClick:A=>x($.id)},{default:t(()=>[a(e(M),{icon:"Trash",class:"mr-1 h-4 w-4"}),l(" 刪除 ")]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),w.value?(d(),h(e(Je),{key:0,onClose:y[0]||(y[0]=$=>w.value=!1),companyId:e(p)},null,8,["companyId"])):z("",!0),b.value?(d(),h(e(ta),{key:1,onClose:y[1]||(y[1]=$=>b.value=!1),companyId:e(p),salaryGroups:e(v)},null,8,["companyId","salaryGroups"])):z("",!0)])}}});export{Ka as default};

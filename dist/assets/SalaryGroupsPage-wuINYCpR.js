import{H as le,r as j,m as Z,n as me,p as oe,c as R,v as ne,q as A,d as ee,o as u,g as b,w as a,f as t,e as s,j as l,u as e,i as M,I as W,J as Q,k as re,_ as S,b as T,h as U,F as V,l as E,t as d,K as q,x as ue,D as X,z as fe,A as _e,L as ve,a as he}from"./index-vk3c6tow.js";import{T as o}from"./index-XLNbcZof.js";import{_ as L}from"./FormLabel.vue_vue_type_script_setup_true_lang-QnAjKaHQ.js";import{_ as F}from"./FormDatepicker.vue_vue_type_script_setup_true_lang-X-BrE-EJ.js";import{_ as we}from"./FormSelect.vue_vue_type_script_setup_true_lang-RAE3O8nS.js";function be(){const{fetchCalculateSalaries:p}=le();return{loading:j(!1),fetchData:async(v,h)=>{console.log("payload",v);const y=await p(v);console.log("fetchCalculateSalaries response",y),h(y.data)}}}function ye(){const p=Z({companyId:"",name:"",yearMonth:"",startDate:"",endDate:"",paymentDate:"",salaries:[]}),D=me(p),_=j(!1);oe(()=>{});const v=R(()=>p.yearMonth&&p.startDate&&p.endDate&&p.paymentDate&&p.name&&p.companyId);return{payloadRefs:D,canSubmit:v,createSalaryGroup:async y=>{try{const g={...p};if(console.log("requestPayload",g),g.salaries=g.salaries.map(r=>({userId:r.employee.id,salaryItems:r.salaryItems.map(C=>({name:C.title,amount:C.amount,type:String(C.type).toUpperCase()}))})),_.value=!0,(await ne.post("/salary/salary-group",g)).data.id)A().showSaveSuccess(),y();else throw Error("id not found")}catch(g){g instanceof Error&&console.log("[Debug] error",g.message),A().showSaveError()}finally{_.value=!1}},loading:_}}const xe={class:"relative mb-5 text-center text-xl"},ge={class:"mb-4 flex items-center"},ke={class:"mb-4 flex items-center"},Se={class:"mb-4 flex items-center"},Te={class:"mb-4 flex items-center"},De={class:"mb-4 flex items-center"},Ce={class:"flex justify-center"},$e={key:0,class:"flex justify-center p-10"},Me={class:"max-h-[70vh] overflow-x-auto overflow-y-auto"},Ve={class:"border text-right p-5"},Ge={class:"mt-5 flex justify-center"},Ye={class:"flex flex-col p-5 gap-3 text-base"},Ee={class:"flex justify-between items-center"},Ne=s("span",null,"薪資年月：",-1),je={class:"flex justify-between items-center"},Ke=s("span",null,"薪資發放名稱：",-1),Be={class:"flex justify-between items-center"},ze=s("span",null,"計算區間：",-1),Pe={class:"flex justify-between items-center"},Le=s("span",null,"發薪人數：",-1),Ue={class:"flex justify-between items-center"},Re=s("span",null,"應發總額：",-1),Ie={class:"flex justify-between items-center"},qe=s("span",null,"應減總額：",-1),Fe={class:"flex justify-between items-center"},Ae=s("span",null,"實發總額：",-1),Xe={class:"mt-5 flex justify-center"},He=ee({__name:"CreateSalaryGroupModal",props:{companyId:{}},emits:["close"],setup(p,{emit:D}){const _={hourly:"時薪",monthly:"月薪"},v=D,h=p,{fetchData:y,loading:g}=be(),{createSalaryGroup:N,payloadRefs:r,canSubmit:C,loading:$}=ye(),w=j("form"),x=Z({value:[]}),G=Z({value:[]}),i=R(()=>{const Y=new Set,c=new Set,n=new Set,k=new Set;let ae=0,se=0,O=0;const pe=x.value.map(({salaryItems:I,employee:m})=>{let B=0,K=0,z=0;const P={};return I.forEach(f=>{switch(f.type==="plus"&&c.add(f.title),f.type==="minus"&&n.add(f.title),f.type==="normal"&&Y.add(f.title),f.type==="company"&&k.add(f.title),P[f.title]=Number(P[f.title]||0)+Number(f.amount),f.type){case"normal":case"plus":B+=Number(f.amount),z+=Number(f.amount),ae+=Number(f.amount),O+=Number(f.amount);break;case"minus":K+=Number(f.amount),z-=Number(f.amount),se+=Number(f.amount),O-=Number(f.amount);break}}),{id:m==null?void 0:m.id,name:m==null?void 0:m.name,code:m==null?void 0:m.code,arrivalDate:m==null?void 0:m.arrivalDate,leaveDate:m==null?void 0:m.leaveDate,type:m==null?void 0:m.type,plusSalary:B,minusSalary:K,netSalary:z,...P}}).sort((I,m)=>{for(let B=0;B<G.value.length;B++){const K=G.value[B],z=(I==null?void 0:I[K.key])??0,P=(m==null?void 0:m[K.key])??0;if(z<P)return K.order==="asc"?-1:1;if(z>P)return K.order==="asc"?1:-1}return 0});return{normalCols:Y,plusCols:c,minusCols:n,companyCols:k,result:pe,totalPlusSalary:ae,totalMinusSalary:se,totalNetSalary:O}}),H=R(()=>r.companyId.value&&r.yearMonth.value&&r.startDate.value&&r.endDate.value&&r.paymentDate.value),J=async()=>{const Y={companyId:r.companyId.value,yearMonth:r.yearMonth.value,startDate:r.startDate.value,endDate:r.endDate.value};await y(Y,c=>{x.value=c,w.value="table"})},te=Y=>{w.value=Y},de=()=>{w.value="result",r.salaries.value=x.value},ie=()=>{C&&N(()=>v("close"))},ce=({key:Y,order:c})=>{console.log(Y,c);const n=G.value.findIndex(k=>k.key===Y);n!==-1?c===""?G.value.splice(n,1):G.value[n].order=c:G.value.push({key:Y,order:c})};return oe(()=>{r.companyId.value=String(h.companyId)}),(Y,c)=>(u(),b(e(X),{open:!0,size:"md"},{default:a(()=>[t(e(X).Panel,{class:ue(["p-4",[{"md:w-[400px]":["form","result"].includes(w.value),"max-w-[1200px] md:w-[80vw]":w.value==="table"}]])},{default:a(()=>[s("div",xe,[l(" 薪資計算 "),t(e(M),{icon:"X",class:"absolute right-0 top-0 cursor-pointer text-[#939393]",onClick:c[0]||(c[0]=()=>v("close"))})]),W(s("section",null,[s("div",ge,[t(e(L),{class:"w-[120px]"},{default:a(()=>[l("薪資發放名稱")]),_:1}),t(e(re),{class:"flex-1",type:"text",modelValue:e(r).name.value,"onUpdate:modelValue":c[1]||(c[1]=n=>e(r).name.value=n)},null,8,["modelValue"])]),s("div",ke,[t(e(L),{class:"w-[120px]"},{default:a(()=>[l("薪資年月")]),_:1}),t(F,{modelValue:e(r).yearMonth.value,"onUpdate:modelValue":c[2]||(c[2]=n=>e(r).yearMonth.value=n),"month-picker":"","auto-apply":""},null,8,["modelValue"])]),s("div",Se,[t(e(L),{class:"w-[120px]"},{default:a(()=>[l("起始日")]),_:1}),t(F,{modelValue:e(r).startDate.value,"onUpdate:modelValue":c[3]||(c[3]=n=>e(r).startDate.value=n),"auto-apply":""},null,8,["modelValue"])]),s("div",Te,[t(e(L),{class:"w-[120px]"},{default:a(()=>[l("結束日")]),_:1}),t(F,{modelValue:e(r).endDate.value,"onUpdate:modelValue":c[4]||(c[4]=n=>e(r).endDate.value=n),"auto-apply":""},null,8,["modelValue"])]),s("div",De,[t(e(L),{class:"w-[120px]"},{default:a(()=>[l("發薪日")]),_:1}),t(F,{modelValue:e(r).paymentDate.value,"onUpdate:modelValue":c[5]||(c[5]=n=>e(r).paymentDate.value=n),"auto-apply":""},null,8,["modelValue"])]),s("div",Ce,[t(e(S),{class:"flex-1 mr-2",variant:"primary",onClick:J,loading:e(g),disabled:e(g)||!H.value},{default:a(()=>[l(" 下一步 ")]),_:1},8,["loading","disabled"]),t(e(S),{class:"flex-1",variant:"primary",onClick:c[6]||(c[6]=()=>v("close"))},{default:a(()=>[l(" 關閉 ")]),_:1})])],512),[[Q,w.value==="form"]]),W(s("section",null,[x.value.length===0?(u(),T("div",$e,"查無資料")):(u(),T(V,{key:1},[s("div",Me,[t(e(o),{bordered:"",onSort:ce},{default:a(()=>[t(e(o).Thead,null,{default:a(()=>[t(e(o).Tr,null,{default:a(()=>[t(e(o).Th,{class:"whitespace-nowrap",colspan:"5"}),i.value.normalCols.size>0?(u(),b(e(o).Th,{key:0,class:"whitespace-nowrap",colspan:i.value.normalCols.size},{default:a(()=>[l(" 薪資結構 ")]),_:1},8,["colspan"])):U("",!0),i.value.plusCols.size>0?(u(),b(e(o).Th,{key:1,class:"whitespace-nowrap",colspan:i.value.plusCols.size},{default:a(()=>[l(" 薪資科目加項 ")]),_:1},8,["colspan"])):U("",!0),i.value.minusCols.size>0?(u(),b(e(o).Th,{key:2,class:"whitespace-nowrap",colspan:i.value.minusCols.size},{default:a(()=>[l(" 薪資科目減項 ")]),_:1},8,["colspan"])):U("",!0),t(e(o).Th,{class:"whitespace-nowrap",colspan:"3"}),i.value.companyCols.size>0?(u(),b(e(o).Th,{key:3,class:"whitespace-nowrap",colspan:i.value.companyCols.size},{default:a(()=>[l(" 公司負擔 ")]),_:1},8,["colspan"])):U("",!0)]),_:1}),t(e(o).Tr,null,{default:a(()=>[t(e(o).Th,{class:"whitespace-nowrap"},{default:a(()=>[l("員工編號")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap"},{default:a(()=>[l("姓名")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap"},{default:a(()=>[l("到職日")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap"},{default:a(()=>[l("離職日")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap"},{default:a(()=>[l("計薪方式")]),_:1}),(u(!0),T(V,null,E(i.value.normalCols.values(),n=>(u(),b(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:a(()=>[l(d(n),1)]),_:2},1032,["sortableKey"]))),128)),(u(!0),T(V,null,E(i.value.plusCols.values(),n=>(u(),b(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:a(()=>[l(d(n),1)]),_:2},1032,["sortableKey"]))),128)),(u(!0),T(V,null,E(i.value.minusCols.values(),n=>(u(),b(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:a(()=>[l(d(n),1)]),_:2},1032,["sortableKey"]))),128)),t(e(o).Th,{class:"whitespace-nowrap",sortableKey:"plusSalary"},{default:a(()=>[l("應發金額")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap",sortableKey:"minusSalary"},{default:a(()=>[l("應減金額")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap",sortableKey:"netSalary"},{default:a(()=>[l("實發金額")]),_:1}),(u(!0),T(V,null,E(i.value.companyCols.values(),n=>(u(),b(e(o).Th,{class:"whitespace-nowrap",key:`${n}`,sortableKey:n},{default:a(()=>[l(d(n),1)]),_:2},1032,["sortableKey"]))),128))]),_:1})]),_:1}),t(e(o).Tbody,null,{default:a(()=>[(u(!0),T(V,null,E(i.value.result,n=>(u(),b(e(o).Tr,{key:`employSalary_${n.id}`},{default:a(()=>[t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(n.code),1)]),_:2},1024),t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(n.name),1)]),_:2},1024),t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(n.arrivalDate?e(q)(n.arrivalDate).format("YYYY-MM-DD"):"--"),1)]),_:2},1024),t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(n.leaveDate?e(q)(n.leaveDate).format("YYYY-MM-DD"):"--"),1)]),_:2},1024),t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(_[n.type]),1)]),_:2},1024),(u(!0),T(V,null,E(i.value.normalCols.values(),k=>(u(),b(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:a(()=>[l(d(n[k]??"--"),1)]),_:2},1024))),128)),(u(!0),T(V,null,E(i.value.plusCols.values(),k=>(u(),b(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:a(()=>[l(d(n[k]??"--"),1)]),_:2},1024))),128)),(u(!0),T(V,null,E(i.value.minusCols.values(),k=>(u(),b(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:a(()=>[l(d(n[k]??"--"),1)]),_:2},1024))),128)),t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(n.plusSalary??"--"),1)]),_:2},1024),t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(n.minusSalary??"--"),1)]),_:2},1024),t(e(o).Td,{class:"whitespace-nowrap"},{default:a(()=>[l(d(n.netSalary??"--"),1)]),_:2},1024),(u(!0),T(V,null,E(i.value.companyCols.values(),k=>(u(),b(e(o).Td,{class:"whitespace-nowrap",key:`${k}`},{default:a(()=>[l(d(n[k]??"--"),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),s("div",Ve," Total Rows: "+d(i.value.result.length),1)],64)),s("div",Ge,[t(e(S),{variant:"primary",type:"button",class:"mr-2",disabled:x.value.length===0,onClick:de},{default:a(()=>[l(" 計算結果 ")]),_:1},8,["disabled"]),t(e(S),{variant:"primary",type:"button",onClick:c[7]||(c[7]=()=>te("form"))},{default:a(()=>[l(" 上一步 ")]),_:1})])],512),[[Q,w.value==="table"]]),W(s("section",null,[s("div",Ye,[s("div",Ee,[Ne,s("span",null,d(e(r).yearMonth.value),1)]),s("div",je,[Ke,s("span",null,d(e(r).name.value),1)]),s("div",Be,[ze,s("span",null,d(e(r).startDate.value)+" ~ "+d(e(r).endDate.value),1)]),s("div",Pe,[Le,s("span",null,d(x.value.length)+"人",1)]),s("div",Ue,[Re,s("span",null,d(i.value.totalPlusSalary.toLocaleString()),1)]),s("div",Ie,[qe,s("span",null,d(i.value.totalMinusSalary.toLocaleString()),1)]),s("div",Fe,[Ae,s("span",null,d(i.value.totalNetSalary.toLocaleString()),1)])]),s("div",Xe,[t(e(S),{variant:"primary",type:"button",class:"mr-2",disabled:!e(C)||e($),loading:e($),onClick:ie},{default:a(()=>[l(" 確認發放 ")]),_:1},8,["disabled","loading"]),t(e(S),{variant:"primary",type:"button",onClick:c[8]||(c[8]=()=>te("table"))},{default:a(()=>[l(" 上一步 ")]),_:1})])],512),[[Q,w.value==="result"]])]),_:1},8,["class"])]),_:1}))}});function Je(){const p=j(!1);return{exportSalary:async(_,v)=>{try{if(p.value=!0,await ne.post("/salary/export",{type:"salary",companyId:_.companyId,salaryGroupId:_.salaryGroupId}))A().showSaveSuccess(),v();else throw Error("Unknown Error")}catch(h){h instanceof Error&&console.log("[Debug] error",h.message),A().showError({title:"錯誤",content:"匯出失敗"})}finally{p.value=!1}},loading:p}}const Oe={class:"mb-4 flex items-center"},We=s("option",{disabled:"",selected:"",value:""},"選擇發放名稱",-1),Qe=["value"],Ze={class:"flex justify-center"},et=ee({__name:"ExportSalaryModal",props:{companyId:{},salaryGroups:{}},emits:["close"],setup(p,{emit:D}){const _=D,{salaryGroups:v,companyId:h}=p,y=j(""),{exportSalary:g,loading:N}=Je(),r=$=>{console.log("select group",$)},C=()=>{if(!y.value||!h)return;const $={companyId:h,salaryGroupId:y.value};g($,()=>_("close"))};return($,w)=>(u(),b(e(X),{open:!0,size:"md"},{default:a(()=>[t(e(X).Panel,{class:"p-4 md:w-[400px]"},{default:a(()=>[s("div",{class:ue(["relative mb-5",["text-center text-xl"]])},[l(" 匯出薪資明細 "),t(e(M),{icon:"X",class:"absolute right-0 top-0 cursor-pointer text-[#939393]",onClick:w[0]||(w[0]=()=>_("close"))})]),s("div",Oe,[t(e(L),{class:"w-[120px]"},{default:a(()=>[l("薪資發放名稱")]),_:1}),t(e(we),{modelValue:y.value,"onUpdate:modelValue":w[1]||(w[1]=x=>y.value=x),class:"flex-1",onChange:r},{default:a(()=>[We,(u(!0),T(V,null,E($.salaryGroups,x=>(u(),T("option",{key:x.id,value:x.id},d(x.name),9,Qe))),128))]),_:1},8,["modelValue"])]),s("div",Ze,[t(e(S),{class:"flex-1",disabled:!y.value||e(N),loading:e(N),variant:"primary",onClick:C},{default:a(()=>[l(" 匯出 ")]),_:1},8,["disabled","loading"])])]),_:1})]),_:1}))}});function tt(p){const D=le(),{fetchSalaries:_,fetchSalaryExtends:v,fetchSalaryGroups:h}=D,y=(C,$)=>{fe().showModal({deleteType:"salaryGroup",title:_e.global.t("delete-alert-title"),content:"確定要刪除這筆資料嗎？刪除後無法復原，需要重新新增",deleteData:{companyId:C,id:$}})},g=R(()=>D.salaries),N=R(()=>D.salaryGroups),r=R(()=>D.salaryExtends);return _({companyId:p,page:1}),v({companyId:p,page:1}),h({companyId:p,page:1}),{fetchSalaries:_,fetchSalaryExtends:v,fetchSalaryGroups:h,confirmDeleteSalaryGroup:y,salaries:g,salaryGroups:N,salaryExtends:r}}const at={class:"flex justify-between"},st={class:"intro-y col-span-12 mt-2 flex flex-wrap items-center sm:flex-nowrap"},lt={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ot={class:"relative text-slate-500"},nt={class:"intro-y col-span-12 mt-2 flex flex-wrap items-center sm:flex-nowrap"},rt={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ut={class:"relative text-slate-500"},dt={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},it={class:"relative text-slate-500"},ct={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},pt={class:"relative text-slate-500"},mt={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},ft={class:"relative text-slate-500"},_t={class:"mt-5 grid grid-cols-12 gap-6"},vt={class:"intro-y col-span-12 flex flex-wrap items-center sm:flex-nowrap"},ht={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},wt={class:"relative text-slate-500"},bt={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},yt={class:"relative text-slate-500"},xt={class:"mt-3 w-full sm:ml-auto sm:mt-0 sm:w-auto md:ml-0"},gt={class:"relative text-slate-500"},kt={class:"intro-y col-span-12 overflow-auto lg:overflow-visible"},St={class:"font-medium"},Tt={class:"font-medium"},Dt={class:"font-medium"},Ct={class:"font-medium"},$t=s("div",{class:"font-medium"},d(0),-1),Mt={class:"font-medium"},Vt={class:"font-medium"},Gt={class:"flex items-center justify-center"},Bt=ee({__name:"SalaryGroupsPage",setup(p){const D=ve(),_=j(1),v=j(!1),h=j(!1),{salaryGroups:y,confirmDeleteSalaryGroup:g}=tt(1),N=()=>{h.value=!0},r=w=>{D.push({name:"GroupSalaries",params:{groupId:w}})},C=()=>{v.value=!0},$=w=>{g(_.value,w)};return(w,x)=>{const G=he("router-link");return u(),T("div",null,[s("div",at,[s("div",st,[s("div",lt,[s("div",ot,[t(e(re),{type:"text",class:"!box w-56 pr-10",placeholder:"Search..."}),t(e(M),{icon:"Search",class:"absolute inset-y-0 right-0 my-auto mr-3 h-4 w-4"})])])]),s("div",nt,[s("div",rt,[s("div",ut,[t(G,{to:"workrecord"},{default:a(()=>[t(e(S),{variant:"primary",type:"button",class:"m-3"},{default:a(()=>[t(e(M),{icon:"Plus",class:"mr-1 h-4 w-4"}),l(" 加班/兼職出勤 ")]),_:1})]),_:1})])]),s("div",dt,[s("div",it,[t(G,{to:""},{default:a(()=>[t(e(S),{variant:"primary",type:"button",class:"m-3"},{default:a(()=>[t(e(M),{icon:"Plus",class:"mr-1 h-4 w-4"}),l(" 薪資科別加減項 ")]),_:1})]),_:1})])]),s("div",ct,[s("div",pt,[t(G,{to:"userleave"},{default:a(()=>[t(e(S),{variant:"primary",type:"button",class:"m-3"},{default:a(()=>[t(e(M),{icon:"Settings",class:"mr-1 h-4 w-4"}),l(" 假勤申請 ")]),_:1})]),_:1})])]),s("div",mt,[s("div",ft,[t(G,{to:"leave"},{default:a(()=>[t(e(S),{variant:"primary",type:"button",class:"m-3"},{default:a(()=>[t(e(M),{icon:"Settings",class:"mr-1 h-4 w-4"}),l(" 假勤設定 ")]),_:1})]),_:1})])])])]),s("div",_t,[s("div",vt,[s("div",ht,[s("div",wt,[t(e(S),{variant:"primary",type:"button",class:"m-3",onClick:N},{default:a(()=>[t(e(M),{icon:"Plus",class:"mr-1 h-4 w-4"}),l(" 薪資計算 ")]),_:1})])]),s("div",bt,[s("div",yt,[t(e(S),{variant:"primary",type:"button",class:"m-3",onClick:C},{default:a(()=>[t(e(M),{icon:"Download",class:"mr-1 h-4 w-4"}),l(" 匯出薪資明細 ")]),_:1})])]),s("div",xt,[s("div",gt,[t(e(S),{variant:"primary",type:"button",class:"m-3",onClick:N,disabled:""},{default:a(()=>[t(e(M),{icon:"Send",class:"mr-1 h-4 w-4"}),l(" 薪資單寄送 ")]),_:1})])])]),s("div",kt,[t(e(o),{class:"-mt-2 border-separate border-spacing-y-[10px]"},{default:a(()=>[t(e(o).Thead,null,{default:a(()=>[t(e(o).Tr,null,{default:a(()=>[t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("薪資年月")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("發放名稱")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("起始日")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("結束日")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("發放人數")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("發放日期")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("狀態")]),_:1}),t(e(o).Th,{class:"whitespace-nowrap border-b-0"},{default:a(()=>[l("動作")]),_:1})]),_:1})]),_:1}),t(e(o).Tbody,null,{default:a(()=>[(u(!0),T(V,null,E(e(y),(i,H)=>(u(),b(e(o).Tr,{key:H,class:"intro-x"},{default:a(()=>[t(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:a(()=>[s("div",St,d(i.yearMonth),1)]),_:2},1024),t(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:a(()=>[s("div",Tt,d(i.name),1)]),_:2},1024),t(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:a(()=>[s("div",Dt,d(e(q)(i.startDate).format("YYYY-MM-DD")),1)]),_:2},1024),t(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:a(()=>[s("div",Ct,d(e(q)(i.endDate).format("YYYY-MM-DD")),1)]),_:2},1024),t(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:a(()=>[$t]),_:1}),t(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:a(()=>[s("div",Mt,d(e(q)(i.paymentDate).format("YYYY-MM-DD")),1)]),_:2},1024),t(e(o).Td,{class:"border-b-0 bg-white text-center shadow-[20px_3px_20px_#0000000b] first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600"},{default:a(()=>[s("div",Vt,d(new Date>new Date(i.paymentDate)?"已發放":"未發放"),1)]),_:2},1024),t(e(o).Td,{class:"relative w-56 border-b-0 bg-white py-0 shadow-[20px_3px_20px_#0000000b] before:absolute before:inset-y-0 before:left-0 before:my-auto before:block before:h-8 before:w-px before:bg-slate-200 first:rounded-l-md last:rounded-r-md dark:bg-darkmode-600 before:dark:bg-darkmode-400"},{default:a(()=>[s("div",Gt,[t(e(S),{variant:"primary",type:"button",class:"m-3 w-24",onClick:J=>r(i.id)},{default:a(()=>[t(e(M),{icon:"LibraryBig",class:"mr-1 h-4 w-4"}),l(" 薪資單 ")]),_:2},1032,["onClick"]),t(e(S),{variant:"danger",type:"button",class:"m-3 w-20",onClick:J=>$(i.id)},{default:a(()=>[t(e(M),{icon:"Trash",class:"mr-1 h-4 w-4"}),l(" 刪除 ")]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),h.value?(u(),b(e(He),{key:0,onClose:x[0]||(x[0]=i=>h.value=!1),companyId:_.value},null,8,["companyId"])):U("",!0),v.value?(u(),b(e(et),{key:1,onClose:x[1]||(x[1]=i=>v.value=!1),companyId:_.value,salaryGroups:e(y)},null,8,["companyId","salaryGroups"])):U("",!0)])}}});export{Bt as default};

import{p as w,q as g,c as v,s as S,v as M,x as N,y,d as k,o as B,i as D,w as r,g as l,e as p,f,t as b,h as t,_ as E,m as C,z as V,l as I,D as $}from"./index-QvUli45Q.js";import{_ as h}from"./FormLabel.vue_vue_type_script_setup_true_lang-OXfsEUzT.js";function j(a){const o=w({name:"",taxId:"",enabledModules:[]}),{name:n,taxId:u,enabledModules:i}=g(o),c=v(()=>!!a);S(()=>{const d={};if(a){const s={...a,...d};Object.keys(o).forEach(e=>{s[e]!==void 0&&(o[e]=s[e])})}});const x=v(()=>n.value!==""&&u.value!=="");return{name:n,taxId:u,enabledModules:i,canSubmit:x,isEdit:c,submit:async(d,s)=>{const e=d?"update":"create";console.log(e),await{create:()=>y.post("/company",{...o}),update:()=>y.patch(`/company/${a.id}`,{...o,id:a.id})}[e](),M().showSaveSuccess(),s(),N().fetchCompanies()}}}const z={class:"relative mb-5 text-center text-xl"},R={class:"mb-4 flex items-center"},U={class:"mb-4 flex items-center"},q={class:"flex justify-center"},T=k({__name:"CreateCompanyModal",props:{company:{},idx:{}},emits:["close"],setup(a,{emit:o}){const n=o,{company:u}=a,{name:i,taxId:c,canSubmit:x,isEdit:_,submit:d}=j(u);return(s,e)=>(B(),D(t($),{open:!0,size:"md"},{default:r(()=>[l(t($).Panel,{class:"p-4 md:w-[400px]"},{default:r(()=>[p("div",z,[f(b(t(_)?s.$t("feature-section8-title"):"新增公司")+" ",1),l(t(E),{icon:"X",class:"absolute right-0 top-0 cursor-pointer text-[#939393]",onClick:e[0]||(e[0]=()=>n("close"))})]),p("div",R,[l(t(h),{class:"w-[120px]"},{default:r(()=>[f(b(s.$t("sub-account-name")),1)]),_:1}),l(t(C),{class:"flex-1",type:"text",placeholder:s.$t("signup-display-name-placeholder"),modelValue:t(i),"onUpdate:modelValue":e[1]||(e[1]=m=>V(i)?i.value=m:null)},null,8,["placeholder","modelValue"])]),p("div",U,[l(t(h),{class:"w-[120px]"},{default:r(()=>[f("統一編號")]),_:1}),l(t(C),{class:"flex-1",type:"text",placeholder:s.$t("error-message35"),modelValue:t(c),"onUpdate:modelValue":e[2]||(e[2]=m=>V(c)?c.value=m:null)},null,8,["placeholder","modelValue"])]),p("div",q,[l(t(I),{class:"flex-1",disabled:!t(x),variant:"primary",onClick:e[3]||(e[3]=()=>t(d)(t(_),()=>n("close")))},{default:r(()=>[f(b(s.$t("save-btn")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}))}});export{T as _};
